<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Maintenance Dashboard</title>
    <link rel="stylesheet" href="history.css" />
    <link rel="stylesheet" href="header.css" />
    <link rel="stylesheet" href="footer.css" />
    <link rel="stylesheet" href="mobile.css" />
    <link rel="icon" type="image/png" href="bg/DMCIlogo.png" />

    <!-- PapaParse for CSV -->
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.2/papaparse.min.js"></script>

    <!-- Chart.js for the bar chart -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
    <script src="../js/header.js"></script>
  </head>
  <body>
    <!-- NAVBAR -->
    <header id="main-header"></header>

    <div class="dashboard-container">
      <h1>DPTPP Maintenance History Records</h1>

      <!-- === FILTERS PANEL === -->
      <div id="filters-wrapper">
        <div id="filters" class="filters-container">
          <!-- Row 1 -->
          <div class="dropdown-wrapper">
            <button class="dropdown-toggle">System</button>
            <div class="dropdown" id="filter-system"></div>
          </div>
          <div class="dropdown-wrapper">
            <button class="dropdown-toggle">Equipment</button>
            <div class="dropdown" id="filter-equipment"></div>
          </div>
          <div class="dropdown-wrapper">
            <button class="dropdown-toggle">Type of Maintenance</button>
            <div class="dropdown" id="filter-maintenance"></div>
          </div>
          <div class="dropdown-wrapper">
            <button class="dropdown-toggle">Nature of Activity</button>
            <div class="dropdown" id="filter-problem"></div>
          </div>
          <div class="date-range-wrapper">
            <div class="date-range-row">
              <label>From:</label>
              <input type="date" id="filter-date-start" />
              <label>To:</label>
              <input type="date" id="filter-date-end" />
            </div>
          </div>

          <!-- Row 2 -->
          <div class="dropdown-wrapper">
            <button class="dropdown-toggle">Point Section</button>
            <div class="dropdown" id="filter-section"></div>
          </div>
          <div class="dropdown-wrapper">
            <button class="dropdown-toggle">Year</button>
            <div class="dropdown" id="filter-year"></div>
          </div>
          <div class="dropdown-wrapper">
            <button class="dropdown-toggle">Quarter</button>
            <div class="dropdown" id="filter-quarter"></div>
          </div>
          <div class="filter-button-wrapper">
            <button id="clear-filters">Clear Filters</button>
          </div>
        </div>
      </div>

      <div class="chart-header">
        <div class="chart-wrapper">
          <button id="view-table-btn">View Table</button>
        </div>
      </div>

      <!-- === MAIN CHARTS === -->
      <section class="chart-section">
        <div class="chart-container">
          <canvas id="maintenanceChart"></canvas>
        </div>

        <div class="yearly-trend-container">
          <canvas id="yearlyTrendChart"></canvas>
        </div>

        <div class="problem-chart-container">
          <canvas id="problemChart" height="400"></canvas>
        </div>
      </section>
    </div>

    <script src="systemChart.js"></script>
    <script src="yearlyChart.js"></script>
    <script src="problemChart.js"></script>
    <script src="history.js"></script>

    <!-- FOOTER -->
    <footer id="main-footer" class="footer"></footer>
  </body>
</html>
