<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Palawan Maintenance</title>
    <link rel="icon" type="image/png" href="DMCIlogo.png" />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="header.css" />
    <link rel="stylesheet" href="footer.css" />
    <link rel="stylesheet" href="mobile.css" />
    <link rel="stylesheet" href="carousel.css" />
    <link rel="stylesheet" href="to.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Oswald:wght@300&display=swap"
      rel="stylesheet"
    />

    <style>
      html,
      body {
        height: 100%;
        margin: 0;
        display: flex;
        flex-direction: column;
      }

      main {
        flex: 1;
      }
    </style>
  </head>

  <body class="fade-in">
    <!-- NAVBAR -->
    <header id="main-header"></header>

    <!-- HERO SECTION -->
    <main>
      <div class="hero-section">
        <div class="hero-overlay">
          <div class="hero-content">
            <div class="hero-text">
              <h1>PALAWAN<br /><span class="highlight">MAINTENANCE</span></h1>
              <p>NARRA THERMAL · ABORLAN BUNKER · HS DIESEL</p>
            </div>

            <div class="hero-buttons side">
              <a href="narra-thermal1.html" class="hero-btn">NARRA THERMAL 1</a>
              <a href="aborlan-bunker1.html" class="hero-btn"
                >ABORLAN BUNKER 1</a
              >
              <a href="hs-diesel.html" class="hero-btn">HS DIESEL</a>
            </div>
          </div>
        </div>
        <a href="#next-section" class="scroll-arrow">▽</a>
      </div>

      <script src="js/nxtsec.js"></script>
      <a href="#" class="back-to-top" title="Back to top">⬆</a>
      <script src="js/back2top.js"></script>

      <!-- CONTENT CARDS -->
      <!-- MISSION SECTION -->
      <section class="content-block mission-block" id="next-section">
        <div class="card">
          <h2>Mission Statement</h2>
          <p>
            To ensure the safe, reliable, and efficient operation of the Power
            Plant through comprehensive maintenance practices, skilled
            personnel, and continuous improvement. We are dedicated to
            minimizing downtime, optimizing performance, and supporting the
            overall sustainability of energy production.
          </p>
        </div>
      </section>

      <!-- VISION SECTION -->
      <section class="content-block vision-block">
        <div class="card">
          <h2>Vision Statement</h2>
          <p>
            To be a leader in power plant maintenance, recognized for our
            commitment to innovation, reliability, and environmental
            responsibility. We aim to set the standard for excellence in
            maintaining energy infrastructure, contributing to a sustainable
            future.
          </p>
        </div>
      </section>

      <!-- CAROUSEL -->
      <section class="org-carousel-section">
        <div class="org-heading">
          <h1>DMCI Palawan Power Corporation</h1>
        </div>
        <div class="org-container">
          <!-- LEFT: Carousel -->
          <div class="carousel" id="orgCarousel">
            <div
              class="carousel-item active"
              data-id="sison"
              onclick="handleCarouselClick(this)"
            >
              <img src="png/SISON.png" alt="" />
              <p>
                <strong>JBS</strong><br />
                <small>Superintendent</small>
              </p>
            </div>

            <div
              class="carousel-item"
              data-id="EPS"
              onclick="handleCarouselClick(this)"
            >
              <img src="png/EPS.png" alt="" />
              <p>
                <strong>EPS</strong><br />
                <small>Maintenance Planning Supervisor</small>
              </p>
            </div>

            <div
              class="carousel-item"
              data-id="EPS2"
              onclick="handleCarouselClick(this)"
            >
              <img src="png/EPS.png" alt="" />
              <p>
                <strong>EPS</strong><br />
                <small>Maintenance Planning Supervisor</small>
              </p>
            </div>

            <div
              class="carousel-item"
              data-id="RPB"
              onclick="handleCarouselClick(this)"
            >
              <img src="png/RPB.png" alt="" />
              <p>
                <strong>RPB</strong><br />
                <small>Mechanical Maintenance Supervisor, DPTPP</small>
              </p>
            </div>

            <div
              class="carousel-item"
              data-id="RPB2"
              onclick="handleCarouselClick(this)"
            >
              <img src="png/RPB.png" alt="Raymark RPB" />
              <p>
                <strong>RPB</strong><br />
                <small>Mechanical Maintenance Supervisor, DPTPP</small>
              </p>
            </div>

            <div
              class="carousel-item"
              data-id="AAB"
              onclick="handleCarouselClick(this)"
            >
              <img src="png/AAB.png" alt="" />
              <p>
                <strong>AAB</strong><br />
                <small>Mechanical Maintenance Supervisor, ABPP</small>
              </p>
            </div>

            <div
              class="carousel-item"
              data-id="KRP"
              onclick="handleCarouselClick(this)"
            >
              <img src="png/PALAY.png" alt="" />
              <p>
                <strong>KRP</strong><br />
                <small>Electrical Maintenance Supervisor, DPTPP</small>
              </p>
            </div>

            <div
              class="carousel-item"
              data-id="ELC"
              onclick="handleCarouselClick(this)"
            >
              <img src="png/ELC.png" alt="" />
              <p>
                <strong>ELC</strong><br />
                <small>Electrical Maintenance Supervisor, ABPP</small>
              </p>
            </div>

            <div
              class="carousel-item"
              data-id="JLB"
              onclick="handleCarouselClick(this)"
            >
              <img src="png/JLB.png" alt="" />
              <p>
                <strong>JLB</strong><br />
                <small>I&C Maintenance Supervisor</small>
              </p>
            </div>

            <div
              class="carousel-item"
              data-id="JLB2"
              onclick="handleCarouselClick(this)"
            >
              <img src="png/JLB.png" alt="John Mark JLB" />
              <p>
                <strong>JLB</strong><br />
                <small>I&C Maintenance Supervisor</small>
              </p>
            </div>

            <!-- ✅ OUTSIDE org-container -->
            <div class="carousel-controls">
              <button onclick="prevSlide()">❮</button>
              <button onclick="nextSlide()">❯</button>
            </div>
          </div>

          <!-- RIGHT: Team Display -->
          <div class="team-display" id="teamDisplay">
            <h3 id="teamTitle">Select a person to view their team.</h3>
            <div class="team-grid" id="teamGrid"></div>
          </div>
        </div>
      </section>

      <div class="cms-pms-container">
        <img
          src="bg/CMS.png"
          alt="Table of Organization"
          class="org-chart-image"
        />

        <img
          src="bg/PMS.png"
          alt="Table of Organization"
          class="org-chart-image"
        />
      </div>

      <div class="org-chart-container">
        <!-- Toggle Buttons (initial: Aborlan visible) -->
        <button
          class="toggle-button right"
          id="btn-aborlan"
          onclick="showImage('aborlan')"
        >
          Aborlan Expansion
        </button>
        <button
          class="toggle-button left hidden"
          id="btn-narra"
          onclick="showImage('narra')"
        >
          Narra Thermal
        </button>

        <!-- Image Container -->
        <div class="org-chart-images">
          <img
            src="bg/to.png"
            alt="Narra Thermal Table"
            class="org-chart-image"
            id="narra-img"
          />
          <img
            src="bg/TO2.png"
            alt="Aborlan Expansion Table"
            class="org-chart-image hidden"
            id="aborlan-img"
          />
        </div>
      </div>
    </main>

    <!-- FOOTER -->
    <footer id="main-footer" class="footer"></footer>

    <!-- NAVBAR SCROLL BEHAVIOR & INTERACTIONS -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const navbar = document.getElementById("navbar");
        const backToTop = document.querySelector(".back-to-top");
        const hamburger = document.getElementById("hamburger");
        const navRight = document.querySelector(".nav-right");
        const teamDisplay = document.getElementById("teamDisplay");

        document.addEventListener("keydown", function (e) {
          if (e.key === "ArrowLeft") {
            prevSlide();
          } else if (e.key === "ArrowRight") {
            nextSlide();
          }
        });

        // ===========================
        // TEAM DATA FUNCTION
        // ===========================
        const teamData = {
          sison: {
            title: "MAINTENANCE DEPARTMENT",
            members: [
              {
                id: "AAB",
                name: "AAB",
                role: "Mechanical Maintenance Supervisor, ABPP",
                img: "png/AAB.png",
              },
              {
                id: "RPB",
                name: "RPB",
                role: "Mechanical Maintenance Supervisor, DPTPP",
                img: "png/RPB.png",
              },
              {
                id: "KRP",
                name: "KRP",
                role: "Electrical Maintenance Supervisor, DPTPP",
                img: "png/PALAY.png",
              },
              {
                id: "ELC",
                name: "ELC",
                role: "Electrical Maintenance Supervisor, ABPP",
                img: "png/ELC.png",
              },
              {
                id: "JLB",
                name: "JLB",
                role: "I&C Maintenance Supervisor",
                img: "png/JLB.png",
              },
              {
                id: "EPS",
                name: "EPS",
                role: "Maintenance Planning Supervisor",
                img: "png/EPS.png",
              },
              {
                name: "EAA",
                role: "Maintenance Consultant",
                img: "png/ALFECHE.png",
              },
            ],
          },

          EPS: {
            title: "MAINTENANCE PLANNING, DPTPP",
            members: [
              {
                name: "JGA",
                role: "Mechanical Planning Engineer",
                img: "png/JGA.png",
              },
              {
                name: "ERR",
                role: "Electrical Planning Engineer",
                img: "png/ERR.png",
              },
              {
                name: "JMJO",
                role: "I&C Planning Engineer",
                img: "png/JUANJMJERIO.png",
              },
              {
                name: "PGZ",
                role: "Planning Assistant",
                img: "png/PGZ.png",
              },
            ],
          },

          EPS2: {
            title: "MAINTENANCE PLANNING, ABPP",
            members: [
              {
                name: "RSC",
                role: "Mechanical Planning Engineer",
                img: "png/RSC.png",
              },
              {
                name: "KSN",
                role: "Electrical Planning Engineer",
                img: "png/KSN.png",
              },
              {
                name: "GLT",
                role: "Electrical Planning Engineer (Reliever)",
                img: "png/GLT.png",
              },
            ],
          },

          RPB: {
            title: "MECHANICAL MAINTENANCE, DPTPP",
            members: [
              {
                name: "RIP",
                role: "Plant Mechanic",
                img: "png/RIP.png",
              },
              {
                name: "FFE",
                role: "Plant Mechanic",
                img: "png/FFE.png",
              },
              {
                name: "RLS",
                role: "Plant Mechanic",
                img: "png/RLS.png",
              },
              {
                name: "MYM",
                role: "Plant Mechanic",
                img: "png/MYM.png",
              },
              {
                name: "JLT",
                role: "Plant Mechanic",
                img: "png/JLT.png",
              },
              {
                name: "RBB",
                role: "Mechanical Maintenance Technician (Light and Heavy Equipment)",
                img: "png/RBB.png",
              },
            ],
          },

          RPB2: {
            title: "MECHANICAL MAINTENANCE, DPTPP",
            members: [
              {
                name: "CSI",
                role: "Mechanical Maintenance Technician (Light and Heavy Equipment)",
                img: "png/CSI.png",
              },
              {
                name: "RCS",
                role: "Welder/Pipefitter",
                img: "png/RCS.png",
              },
              {
                name: "RUB",
                role: "Welder/Pipefitter",
                img: "png/RUB.png",
              },
              {
                name: "SCB",
                role: "Plant Maintenance Assitant",
                img: "png/SCB.png",
              },
              {
                name: "NGR",
                role: "Plant Maintenance Assitant",
                img: "png/NGR.png",
              },
            ],
          },

          AAB: {
            title: "MECHANICAL MAINTENANCE, ABPP",
            members: [
              {
                name: "JGM",
                role: "Plant Mechanic",
                img: "png/JGM.png",
              },
              {
                name: "ABP",
                role: "Plant Mechanic",
                img: "png/ABP.png",
              },
              {
                name: "JEZ",
                role: "Welder/Pipefitter",
                img: "png/JEZ.png",
              },
              {
                name: "MUO",
                role: "Plant Maintenance Assistant",
                img: "png/MUO.png",
              },
              {
                name: "ALD",
                role: "Plant Maintenance Assitant",
                img: "png/ALD.png",
              },
            ],
          },

          KRP: {
            title: "ELECTRICAL MAINTENANCE, DPTPP",
            members: [
              {
                name: "AMF",
                role: "Plant Electrician",
                img: "png/AMF.png",
              },
              {
                name: "JBB",
                role: "Plant Electrician",
                img: "png/JBB.png",
              },
              {
                name: "MMC",
                role: "Plant Electrician",
                img: "png/MMC.png",
              },
              {
                name: "JPS",
                role: "Plant Electrician",
                img: "png/JPS.png",
              },
              {
                name: "JLS",
                role: "Plant Electrician",
                img: "png/JLS.png",
              },
              {
                name: "VSV",
                role: "Plant Electrician",
                img: "png/VSV.png",
              },
            ],
          },

          ELC: {
            title: "ELECTRICAL MAINTENANCE, ABPP",
            members: [
              {
                name: "RCC",
                role: "Plant Electrician",
                img: "png/RCC.png",
              },
              {
                name: "DBA",
                role: "Plant Electrician",
                img: "png/DBA.png",
              },
            ],
          },

          JLB: {
            title: "I&C MAINTENANCE, DPTPP",
            members: [
              {
                name: "RHC",
                role: "I&C Maintenance Engineer",
                img: "png/RHC.png",
              },
              {
                name: "AQS",
                role: "I&C Technician",
                img: "png/AQS.png",
              },
              {
                name: "EAC",
                role: "I&C Technician",
                img: "png/EAC.png",
              },
              {
                name: "GFL",
                role: "I&C Technician",
                img: "png/GFL.png",
              },
              {
                name: "CGS",
                role: "I&C Technician",
                img: "png/CGS.png",
              },
              {
                name: "KTG",
                role: "I&C Technician",
                img: "png/KTG.png",
              },
            ],
          },

          JLB2: {
            title: "I&C MAINTENANCE, ABPP",
            members: [
              {
                name: "RVB",
                role: "I&C Maintenance Engineer",
                img: "png/RVB.png",
              },
              {
                name: "CCP",
                role: "I&C Technician",
                img: "png/CCP.png",
              },
            ],
          },
          // Repeat same format for other supervisors...
        };

        // ===========================
        // CAROUSEL FUNCTIONALITY
        // ===========================
        // ========== CAROUSEL SETUP ==========
        let currentIndex = 0;
        const items = document.querySelectorAll(".carousel-item");

        function showTeam(personId) {
          const teamTitle = document.getElementById("teamTitle");
          const teamGrid = document.getElementById("teamGrid");
          const teamDisplay = document.getElementById("teamDisplay");

          const person = teamData[personId];
          if (!person || !person.members) {
            teamTitle.textContent = "No team members listed.";
            teamGrid.innerHTML = "";
            return;
          }

          teamTitle.textContent = person.title;

          // Build with animation delay per card
          teamGrid.innerHTML = person.members
            .map((m, i) => {
              const delay = i * 100; // 100ms stagger
              return `
        <div class="team-card" style="animation-delay: ${delay}ms" data-id="${
                m.id || personId
              }" onclick="handleTeamCardClick(this)">
          <img src="${m.img}" alt="${m.name}" />
          <div class="team-info">
            <strong>${m.name}</strong><br/>
            <span>${m.role}</span>
          </div>
        </div>
      `;
            })
            .join("");
        }

        function showSlide(index) {
          items.forEach((item, i) => {
            item.classList.toggle("active", i === index);
          });

          const activeItem = items[index];
          const personId = activeItem.dataset.id;
          if (personId) showTeam(personId);
        }

        window.prevSlide = () => {
          currentIndex = (currentIndex - 1 + items.length) % items.length;
          showSlide(currentIndex);
        };

        window.nextSlide = () => {
          currentIndex = (currentIndex + 1) % items.length;
          showSlide(currentIndex);
        };

        window.handleCarouselClick = (item) => {
          const personId = item.dataset.id;
          if (!personId) return;

          const index = [...items].findIndex(
            (el) => el.dataset.id === personId
          );
          if (index !== -1) {
            currentIndex = index;
            showSlide(currentIndex);
          }
        };

        window.handleTeamCardClick = (card) => {
          const id = card.dataset.id;
          if (!id) return;

          const index = [...items].findIndex((el) => el.dataset.id === id);
          if (index !== -1) {
            currentIndex = index;
            showSlide(currentIndex);
          }
        };

        showSlide(currentIndex);
      });
    </script>

    <script src="to.js"></script>
    <script src="js/header.js" defer></script>
    <script src="js/back2top.js"></script>
  </body>
</html>
